(function(e){function t(t){for(var n,s,a=t[0],c=t[1],p=t[2],d=0,u=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);h&&h(t);while(u.length)u.shift()();return o.push.apply(o,p||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,a=1;a<i.length;a++){var c=i[a];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={app:0},o=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var p=0;p<a.length;p++)t(a[p]);var h=c;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}})},o=[],s=(i("d3b7"),i("cfc3"),i("907a"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("159b"),i("5a89")),a=i("d3b8"),c={name:"App",data:function(){return{camera:null,scene:null,renderer:null,animation_frame_callbacks:[],reticle:void 0,hit:{hitTestSource:null,hitTestSourceRequested:!1},options:{scale:.5,points:{width:30,length:60,color:new s["c"](16777215)},grid:{size:{x:10,y:10,z:10}}}}},components:{},methods:{setUpPoints:function(e){for(var t=new s["b"],i=new Float32Array(this.options.points.width*this.options.points.length*3),n=new Float32Array(this.options.points.width*this.options.points.length*3),r=0,o=this.options.grid.size.x/this.options.points.width,a=this.options.grid.size.z/this.options.points.length,c=(this.options.grid.size.x-1/o*o)/this.options.points.width,p=(this.options.grid.size.z-1/a*a)/this.options.points.length,h=0;h<this.options.points.width;h++)for(var d=0;d<this.options.points.length;d++){var u=h,l=c*Math.sqrt(h)+p*Math.sqrt(d)+p*(d/2),f=d;i[3*r]=c*u,i[3*r+1]=l,i[3*r+2]=p*f;n[3*r]=this.options.points.color.r*h/this.options.points.width,n[3*r+1]=.5,n[3*r+2]=this.options.points.color.b*(this.options.points.color.r*d)/this.options.points.length,r++}t.setAttribute("position",new s["a"](i,3)),t.setAttribute("color",new s["a"](n,3)),t.computeBoundingBox();var w=new s["k"]({size:.2,vertexColors:!0}),v=new s["j"](t,w);v.position.x=-this.options.grid.size.x/2,v.position.z=-this.options.grid.size.z/2,e.add(v)},setUpGrid:function(e){for(var t=new s["f"]({color:5263440}),i=[],n=0;n<this.options.grid.size.x;n++){for(var r=0;r<this.options.grid.size.y;r++)i.push(new s["n"](n,r,0));for(var o=0;o<this.options.grid.size.z;o++)i.push(new s["n"](n,0,o));i.push(new s["n"](n,0,0))}for(var a=0;a<this.options.grid.size.y;a++){for(var c=0;c<this.options.grid.size.z;c++)i.push(new s["n"](0,a,c));for(var p=0;p<this.options.grid.size.x;p++)i.push(new s["n"](p,a,0));i.push(new s["n"](0,a,0))}for(var h=0;h<this.options.grid.size.z;h++){for(var d=0;d<this.options.grid.size.y;d++)i.push(new s["n"](0,d,h));for(var u=0;u<this.options.grid.size.x;u++)i.push(new s["n"](u,0,h));i.push(new s["n"](0,0,h))}var l=(new s["b"]).setFromPoints(i),f=new s["e"](l,t);f.position.x=-this.options.grid.size.x/2,f.position.z=-this.options.grid.size.z/2,e.add(f)},setUpScene:function(){var e=this;this.camera=new s["i"](70,window.innerWidth/window.innerHeight,.01,20),this.scene=new s["m"];var t=new s["d"](16777215,12303359,1);t.position.set(.5,1,.25),this.scene.add(t),this.renderer=new s["o"]({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.xr.enabled=!0,document.body.appendChild(this.renderer.domElement),document.body.appendChild(a["a"].createButton(this.renderer,{requiredFeatures:["hit-test"]}));var i=this.renderer.xr.getController(0);i.addEventListener("select",(function(){if(e.reticle&&e.reticle.visible){var t=new s["g"];e.setUpGrid(t),e.setUpPoints(t),e.reticle.matrix.decompose(t.position,t.quaternion,t.scale),t.scale.set(.03,.03,.03),e.scene.add(t)}})),this.scene.add(i),this.reticle=new s["g"](new s["l"](.15,.2,32).rotateX(-Math.PI/2),new s["h"]),this.reticle.matrixAutoUpdate=!1,this.reticle.visible=!1,this.scene.add(this.reticle),this.renderer.setAnimationLoop(this.render)},render:function(e,t){var i=this;if(i.animation_frame_callbacks.forEach((function(e){e()})),t){var n=i.renderer.xr.getReferenceSpace(),r=i.renderer.xr.getSession();if(!1===i.hit.hitTestSourceRequested&&(r.requestReferenceSpace("viewer").then((function(e){r.requestHitTestSource({space:e}).then((function(e){i.hit.hitTestSource=e}))})),r.addEventListener("end",(function(){i.hit.hitTestSourceRequested=!1,i.hit.hitTestSource=null})),i.hit.hitTestSourceRequested=!0),i.hit.hitTestSource){var o=t.getHitTestResults(i.hit.hitTestSource);if(o.length){var s=o[0];i.reticle.visible=!0,i.reticle.matrix.fromArray(s.getPose(n).transform.matrix)}else i.reticle.visible=!1}}i.renderer.render(i.scene,i.camera)}},mounted:function(){this.setUpScene()}},p=c,h=(i("5c0b"),i("2877")),d=Object(h["a"])(p,r,o,!1,null,null,null),u=d.exports,l=i("2f62");n["a"].use(l["a"]);var f=new l["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({store:f,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";i("9c0c")},"9c0c":function(e,t,i){}});
//# sourceMappingURL=app.299efacf.js.map