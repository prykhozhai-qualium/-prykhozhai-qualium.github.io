(function(e){function t(t){for(var n,s,a=t[0],c=t[1],h=t[2],d=0,u=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(u.length)u.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,a=1;a<i.length;a++){var c=i[a];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={app:0},o=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var h=0;h<a.length;h++)t(a[h]);var p=c;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}})},o=[],s=(i("d3b7"),i("cfc3"),i("907a"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("159b"),i("5a89")),a=i("d3b8"),c={name:"App",data:function(){return{camera:null,scene:null,renderer:null,animation_frame_callbacks:[],reticle:void 0,options:{scale:.5,points:{width:30,length:60,color:new s["d"](16777215)},grid:{size:{x:10,y:10,z:10}}}}},components:{},methods:{setUpPoints:function(e){for(var t=new s["c"],i=new Float32Array(this.options.points.width*this.options.points.length*3),n=new Float32Array(this.options.points.width*this.options.points.length*3),r=0,o=this.options.grid.size.x/this.options.points.width,a=this.options.grid.size.z/this.options.points.length,c=(this.options.grid.size.x-1/o*o)/this.options.points.width,h=(this.options.grid.size.z-1/a*a)/this.options.points.length,p=0;p<this.options.points.width;p++)for(var d=0;d<this.options.points.length;d++){var u=p,l=c*Math.sqrt(p)+h*Math.sqrt(d)+h*(d/2),f=d;i[3*r]=c*u,i[3*r+1]=l,i[3*r+2]=h*f;n[3*r]=this.options.points.color.r*p/this.options.points.width,n[3*r+1]=.5,n[3*r+2]=this.options.points.color.b*(this.options.points.color.r*d)/this.options.points.length,r++}t.setAttribute("position",new s["b"](i,3)),t.setAttribute("color",new s["b"](n,3)),t.computeBoundingBox();var w=new s["l"]({size:.1,vertexColors:!0}),v=new s["k"](t,w);v.position.x=-this.options.grid.size.x/2,v.position.z=-this.options.grid.size.z/2,e.add(v)},setUpGrid:function(e){for(var t=new s["f"]({color:5263440}),i=[],n=0;n<this.options.grid.size.x;n++){for(var r=0;r<this.options.grid.size.y;r++)i.push(new s["o"](n,r,0));for(var o=0;o<this.options.grid.size.z;o++)i.push(new s["o"](n,0,o));i.push(new s["o"](n,0,0))}for(var a=0;a<this.options.grid.size.y;a++){for(var c=0;c<this.options.grid.size.z;c++)i.push(new s["o"](0,a,c));for(var h=0;h<this.options.grid.size.x;h++)i.push(new s["o"](h,a,0));i.push(new s["o"](0,a,0))}for(var p=0;p<this.options.grid.size.z;p++){for(var d=0;d<this.options.grid.size.y;d++)i.push(new s["o"](0,d,p));for(var u=0;u<this.options.grid.size.x;u++)i.push(new s["o"](u,0,p));i.push(new s["o"](0,0,p))}var l=(new s["c"]).setFromPoints(i),f=new s["e"](l,t);f.position.x=-this.options.grid.size.x/2,f.position.z=-this.options.grid.size.z/2,e.add(f)},setUpScene:function(){var e=this;this.camera=new s["j"](70,window.innerWidth/window.innerHeight),this.camera.position.z=15,this.camera.position.x=15,this.camera.position.y=10,this.camera.lookAt(new s["o"](0,0,0)),this.scene=new s["n"],this.renderer=new s["p"]({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight);var t=this.renderer.xr.getController(0);t.addEventListener("select",(function(){if(e.reticle&&e.reticle.visible){var t=new s["g"];e.setUpGrid(),e.setUpPoints(),e.scene.add(t)}})),this.scene.add(t),this.reticle=new s["g"](new s["m"](.15,.2,32).rotateX(-Math.PI/2),new s["h"]),this.reticle.matrixAutoUpdate=!1,this.reticle.visible=!1,this.scene.add(this.reticle),this.renderer.xr.enabled=!0;new s["a"](.2,.2,.2),new s["i"];document.body.appendChild(this.renderer.domElement),document.body.appendChild(a["a"].createButton(this.renderer,{requiredFeatures:["hit-test"]})),this.renderer.setAnimationLoop(this.render)},render:function(e,t){if(this.animation_frame_callbacks.forEach((function(e){e()})),this.renderer.render(this.scene,this.camera),t){var i=this.renderer.xr.getReferenceSpace(),n=this.renderer.xr.getSession();if(!1===hitTestSourceRequested&&(n.requestReferenceSpace("viewer").then((function(e){n.requestHitTestSource({space:e}).then((function(e){hitTestSource=e}))})),n.addEventListener("end",(function(){hitTestSourceRequested=!1,hitTestSource=null})),hitTestSourceRequested=!0),hitTestSource){var r=t.getHitTestResults(hitTestSource);if(r.length){var o=r[0];this.reticle.visible=!0,this.reticle.matrix.fromArray(o.getPose(i).transform.matrix)}else this.reticle.visible=!1}}this.renderer.render(this.scene,this.camera)}},mounted:function(){this.setUpScene();var e=new s["g"];this.setUpGrid(e),this.setUpPoints(e),this.animation_frame_callbacks.push((function(){e.rotation.y+=.01})),this.scene.add(e)}},h=c,p=(i("5c0b"),i("2877")),d=Object(p["a"])(h,r,o,!1,null,null,null),u=d.exports,l=i("2f62");n["a"].use(l["a"]);var f=new l["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({store:f,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";i("9c0c")},"9c0c":function(e,t,i){}});
//# sourceMappingURL=app.bcc51e7b.js.map