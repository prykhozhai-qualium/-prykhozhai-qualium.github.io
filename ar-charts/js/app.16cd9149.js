(function(t){function e(e){for(var n,o,a=e[0],c=e[1],u=e[2],p=0,d=[];p<a.length;p++)o=a[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);h&&h(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var h=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}})},s=[],o=(i("d3b7"),i("159b"),i("b0c0"),i("25f0"),i("ac1f"),i("1276"),i("5a89")),a=i("d3b8"),c=i("598d"),u=i("7e1b"),h=i("4a8d"),p={name:"App",data:function(){return{scene_created:!1,framestamp:0,framestamp_vector:1,framestamp_scale:600*Math.PI,camera:null,scene:null,renderer:null,animation_frame_callbacks:[],reticle:void 0,functions:[],active_function:0,prev_active_function:0,hit:{hitTestSource:null,hitTestSourceRequested:!1},objects:{grid:{text:{mesh:null}}},options:{miniature:{active:{scale:1.2,position_z:5},inactive:{scale:1},points:{width:8,length:8}},scale:.5,points:{width:34,length:34},grid:{text:null,size:{x:15,y:15,z:15}}}}},components:{},methods:{createAnimFunction:function(t,e){this.functions.push({k:1,fn:t,color_fn:e})},updateActiveFunction:function(){var t=this;this.functions.forEach((function(e,i){i==t.active_function?e.k+=(1-e.k)/20:e.k+=(0-e.k)/20}))},setUpSphere:function(t,e){var i=this,n=new o["f"](.1,3),r=new o["n"]({color:16777215}),s=new o["g"](n,r,e.points.width*e.points.length),a=this.options.grid.size.x/e.points.width,c=this.options.grid.size.z/e.points.length,u=(this.options.grid.size.x-1/a*a)/e.points.width,h=(this.options.grid.size.z-1/c*c)/e.points.length;s.instanceMatrix,this.animation_frame_callbacks.push((function(t){for(var n=0,r=0;r<e.points.width;r++)for(var a=0;a<e.points.length;a++){var c=new o["k"],p=h*a,d=u*r,l=0;l=e.fn(d,p),c.setPosition(d,l,p);var f=e.scale_fn(l);c.scale(new o["u"](f,f,f)),s.updateMatrix(),s.setMatrixAt(n,c),s.updateMatrix(),s.setColorAt(n,e.color_fn(r/e.points.width,a/e.points.length,i.active_function)),s.updateMatrix(),n++,s.instanceMatrix.needsUpdate=!0,s.instanceColor.needsUpdate=!0}})),s.position.x=-this.options.grid.size.x/2,s.position.z=-this.options.grid.size.z/2,s.name=e.name,t.add(s)},getText:function(t){var e=new h["a"];e.parse(u);var i=new c["a"](t,{font:e.parse(u),size:.3,height:0,curveSegments:10,bevelEnabled:!0,bevelThickness:.01,bevelSize:0,bevelOffset:0,bevelSegments:2}),n=new o["n"]({color:16777215,specular:16777215}),r=new o["l"](i,n);return r},setUpGrid:function(t,e){var i,n=this;e.numbers&&(i=new o["l"]);for(var r=new o["i"]({color:e.color,transparent:!0,opacity:e.opacity}),s=[],a=0;a<this.options.grid.size.x;a++){if(a%2==0&&e.numbers){var c=this.getText(a.toString());c.position.x=a,c.position.z=this.options.grid.size.z,c.rotateY(Math.PI/3),i.add(c)}for(var u=0;u<this.options.grid.size.y;u++)s.push(new o["u"](a,u,0));for(var h=0;h<this.options.grid.size.z;h++)s.push(new o["u"](a,0,h));s.push(new o["u"](a,0,0))}for(var p=0;p<this.options.grid.size.y;p++){if(p%2==0&&e.numbers){var d=this.getText(p.toString());d.position.y=p,d.position.x=this.options.grid.size.x,d.rotateY(Math.PI/3),i.add(d)}for(var l=0;l<this.options.grid.size.z;l++)s.push(new o["u"](0,p,l));for(var f=0;f<this.options.grid.size.x;f++)s.push(new o["u"](f,p,0));s.push(new o["u"](0,p,0))}for(var m=0;m<this.options.grid.size.z;m++){if(m%2==0&&e.numbers){var v=this.getText(m.toString());v.position.z=m,v.position.x=this.options.grid.size.x,v.rotateY(Math.PI/3),i.add(v)}for(var w=0;w<this.options.grid.size.y;w++)s.push(new o["u"](0,w,m));for(var g=0;g<this.options.grid.size.x;g++)s.push(new o["u"](g,0,m));s.push(new o["u"](0,0,m))}var b=(new o["a"]).setFromPoints(s),z=new o["h"](b,r);z.name=e.name,z.position.x=-this.options.grid.size.x/2,z.position.z=-this.options.grid.size.z/2,e.numbers&&(i.position.x=-this.options.grid.size.x/2,i.position.z=-this.options.grid.size.z/2,this.objects.grid.text.mesh=i,t.add(i),this.animation_frame_callbacks.push((function(){n.objects.grid.text&&n.objects.grid.text.mesh.children.forEach((function(t){t.lookAt(n.camera.position)}))}))),t.add(z)},setUpScene:function(){var t=this;this.camera=new o["o"](45,window.innerWidth/window.innerHeight,.01,120),this.camera.position.z=25,this.camera.position.x=25,this.camera.position.y=35,this.camera.lookAt(new o["u"](0,0,0)),this.scene=new o["r"];var e=new o["e"](16777215,12303359,1);e.position.set(.5,1,.25),this.scene.add(e),this.renderer=new o["v"]({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.xr.enabled=!0,document.body.appendChild(this.renderer.domElement),document.body.appendChild(a["a"].createButton(this.renderer,{requiredFeatures:["hit-test"]}));var i=this.renderer.xr.getController(0);i.addEventListener("select",(function(){if(t.reticle&&t.reticle.visible&&!t.scene_created){t.scene_created=!0;var e=new o["l"],i=t.createObjects();e.add(i),t.reticle.matrix.decompose(e.position,e.quaternion,e.scale),e.scale.set(.04,.04,.04),t.scene.add(e)}})),this.scene.add(i),this.reticle=new o["l"](new o["q"](.15,.2,32).rotateX(-Math.PI/2),new o["m"]),this.reticle.matrixAutoUpdate=!1,this.reticle.visible=!1,this.scene.add(this.reticle),this.renderer.setAnimationLoop(this.render)},render:function(t,e){var i=this;if(0==this.framestamp?this.framestamp_vector=1:this.framestamp==this.framestamp_scale&&(this.framestamp_vector=-1),this.framestamp=this.framestamp+this.framestamp_vector,i.animation_frame_callbacks.forEach((function(e){e(t)})),e){var n=i.renderer.xr.getReferenceSpace(),r=i.renderer.xr.getSession();if(!1===i.hit.hitTestSourceRequested&&(r.requestReferenceSpace("viewer").then((function(t){r.requestHitTestSource({space:t}).then((function(t){i.hit.hitTestSource=t}))})),r.addEventListener("end",(function(){i.hit.hitTestSourceRequested=!1,i.hit.hitTestSource=null})),i.hit.hitTestSourceRequested=!0),i.hit.hitTestSource){var s=e.getHitTestResults(i.hit.hitTestSource);if(s.length){var o=s[0];this.scene_created||(i.reticle.visible=!0),i.reticle.matrix.fromArray(o.getPose(n).transform.matrix)}else i.reticle.visible=!1}}i.renderer.render(i.scene,i.camera)},setUpCharts:function(){var t=this;this.createAnimFunction((function(t,e){return 2*Math.cos(.1*t)+2*Math.cos(.1*e)+6}),(function(t,e){return new o["b"](Math.sin(2*t),Math.sin(Math.sqrt(e)),1)})),this.createAnimFunction((function(t,e){return 2*Math.cos(.7*t)+4}),(function(t,e){return new o["b"](Math.sin(2*t),Math.sin(Math.sqrt(e)),1)})),this.createAnimFunction((function(t,e){return 2*Math.cos(.8*t)*Math.sin(.8*e)+6}),(function(t,e){return new o["b"](Math.sin(2*t),Math.sin(Math.sqrt(e)),1)})),this.createAnimFunction((function(e,i){var n=-t.options.grid.size.x/2,r=-t.options.grid.size.z/2;return Math.sqrt(Math.pow(n+e,2)+Math.pow(r+i,2)+16)}),(function(t,e){return new o["b"](1,t,Math.sqrt(t))})),this.createAnimFunction((function(e,i){var n=-t.options.grid.size.x/4,r=-t.options.grid.size.z/4;return Math.sqrt(Math.pow(n+e,2)+Math.pow(r+i,2)+16)-2}),(function(t,e){return new o["b"](1,t,Math.sqrt(t))})),this.createAnimFunction((function(e,i){var n=-t.options.grid.size.x/4,r=-t.options.grid.size.z/4;return Math.sqrt(Math.pow(n+e,2)+Math.pow(r+i,2)+16)-2+Math.sin(e+i)}),(function(t,e){return new o["b"](1,t,Math.sqrt(t))})),this.createAnimFunction((function(t,e){return Math.abs(Math.sin(10*t))*e}),(function(t,e){return new o["b"](t,1,Math.sqrt(t))})),this.createAnimFunction((function(t,e){return.5*Math.abs(Math.pow(Math.cos(10*t),2)+Math.sin(e))*e}),(function(t,e){return new o["b"](t,1,Math.sqrt(t))})),this.createAnimFunction((function(t,e){return.5*Math.abs(Math.pow(Math.cos(10*t),2)+Math.sin(e))*(e+t)}),(function(t,e){return new o["b"](t,1,Math.sqrt(t))}))},createObjects:function(){var t=this,e=new o["l"],i=function(e){return e/t.options.grid.size.y*2+.5},n=function(e){return e/t.options.grid.size.y*18};this.setUpCharts(),this.setUpGrid(e,{color:16777215,opacity:1,numbers:!0}),this.setUpSphere(e,{points:this.options.points,fn:function(e,i){var n=0;return t.functions.forEach((function(t){return n+=t.k*t.fn(e,i)})),n},scale_fn:i,color_fn:function(e,i){var n={r:0,g:0,b:0};return t.functions.forEach((function(t){n.r+=t.color_fn(e,i).r*t.k,n.g+=t.color_fn(e,i).g*t.k,n.b+=t.color_fn(e,i).b*t.k})),new o["b"](n.r,n.g,n.b)}}),this.animation_frame_callbacks.push((function(){t.updateActiveFunction()})),e.scale.set(1,1,1);for(var r=new o["l"],s=new o["l"],a=0;a<this.functions.length;a++){var c=new o["l"];this.setUpGrid(c,{color:16777215,opacity:.3,name:"miniature_"+a,numbers:!1}),this.setUpSphere(c,{points:this.options.miniature.points,fn:this.functions[a].fn,name:"miniature_"+a,scale_fn:n,color_fn:this.functions[a].color_fn}),c.position.x=1.5*this.options.grid.size.x*Math.floor(a/3),c.position.y=a%3*this.options.grid.size.y*1.5,c.name="miniature_"+a,s.add(c)}this.animation_frame_callbacks.push((function(){s.children.forEach((function(e,i){i==t.active_function?e.scale.set(e.scale.x+(t.options.miniature.active.scale-e.scale.x)/20,e.scale.y+(t.options.miniature.active.scale-e.scale.y)/20,e.scale.z+(t.options.miniature.active.scale-e.scale.z)/20):e.scale.set(e.scale.x+(t.options.miniature.inactive.scale-e.scale.x)/20,e.scale.y+(t.options.miniature.inactive.scale-e.scale.y)/20,e.scale.z+(t.options.miniature.inactive.scale-e.scale.z)/20)}))})),r.add(s),r.scale.set(.2,.2,.2),r.position.x=this.options.grid.size.x/2+4,r.position.z=-this.options.grid.size.z/2,r.position.y=2,e.add(r);var u=new o["p"],h=new o["t"],p=function(e){u.setFromCamera(h,t.camera);for(var i=u.intersectObjects(t.scene.children),n=0;n<i.length;n++)i[n].object.name&&"miniature"==i[n].object.name.split("_")[0]&&(t.active_function=parseInt(i[n].object.name.split("_")[1]))},d=function(t){h.x=t.clientX/window.innerWidth*2-1,h.y=-t.clientY/window.innerHeight*2+1,p()},l=function(t){h.x=t.touches[0].clientX/window.innerWidth*2-1,h.y=-t.touches[0].clientY/window.innerHeight*2+1,p()};return window.addEventListener("click",d),window.addEventListener("touchstart",l),e}},mounted:function(){this.setUpScene()}},d=p,l=(i("5c0b"),i("2877")),f=Object(l["a"])(d,r,s,!1,null,null,null),m=f.exports,v=i("2f62");n["a"].use(v["a"]);var w=new v["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({store:w,render:function(t){return t(m)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},"9c0c":function(t,e,i){}});
//# sourceMappingURL=app.16cd9149.js.map